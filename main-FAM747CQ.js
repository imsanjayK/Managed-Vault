import{$ as H,A as ue,B as ce,C,D as g,E as De,F as m,G as et,H as s,I as a,J as h,K as de,L as c,M as b,N as At,O as Et,P as l,Q as I,R as S,S as M,T as y,U as Ft,V as Mt,W as xt,X as wt,Y as It,Z as Nt,_ as pe,a as V,aa as tt,b as E,ba as Ae,c as _t,ca as N,d as yt,da as Ot,e as Ct,ea as D,f as bt,fa as Tt,g as Ve,ga as kt,h as F,ha as Pt,i as Vt,ia as Gt,j as Xe,ja as Rt,k as Z,ka as B,l as v,la as jt,m as Qe,ma as O,n as _,na as Ht,o as Se,p as G,pa as U,q as R,qa as $,r as x,ra as Bt,s as w,t as j,u as k,v as le,w as St,x as Dt,y as d,z as u}from"./chunk-TFBJI3BF.js";function En(n,t){if(n&1&&(s(0,"tr")(1,"th",23),l(2),a(),s(3,"th",24),l(4),a()()),n&2){let e=t.$implicit;d(2),I(e.username),d(2),S(" ",e.password,"")}}function Fn(n,t){if(n&1&&(s(0,"thead"),g(1,En,5,2,"tr",19),a()),n&2){let e=b(2);d(),m("ngForOf",e.account.credentials)}}function Mn(n,t){if(n&1&&(s(0,"tr")(1,"td",23),l(2),a(),s(3,"td",24),l(4),a()()),n&2){let e=t.$implicit;d(2),I(e.key),d(2),S(" ",e.value,"")}}function xn(n,t){if(n&1){let e=de();s(0,"div",4)(1,"div",5)(2,"div",2)(3,"div",6)(4,"a",7),l(5),a()()(),s(6,"div",8)(7,"button",9),c("click",function(){G(e);let r=b();return R(r.copyAccount(r.account))}),x(),s(8,"svg",10),h(9,"path",11),a()(),w(),s(10,"button",12),c("click",function(){G(e);let r=b();return R(r.deleteAccount())}),x(),s(11,"svg",13),h(12,"path",14),a()()()(),w(),s(13,"h5")(14,"span",15),l(15),a()(),s(16,"table",16),g(17,Fn,2,1,"thead",17),s(18,"tbody",18),g(19,Mn,5,2,"tr",19),a()(),s(20,"div",20)(21,"button",21),c("click",function(){G(e);let r=b();return R(r.cancel())}),l(22,"Back"),a(),s(23,"button",22),c("click",function(){G(e);let r=b();return R(r.editAccount(r.account))}),l(24,"Edit"),a()()()}if(n&2){let e=b();d(4),At("href",e.account.link,Dt),d(),S(" ",e.account.accountName," "),d(10),I(e.account.accountType),d(2),m("ngIf",e.account.credentials.length>0),d(2),m("ngForOf",e.account.customDatas)}}function wn(n,t){n&1&&(s(0,"div",25)(1,"h1",26),l(2,"404 - Page Not Found"),a(),s(3,"p",27),l(4,"Oops! The page you are looking for doesn't exist."),a(),s(5,"p"),l(6,"It may have been moved, or the URL may have been mistyped."),a(),s(7,"a",28),l(8,"Go to Home"),a()())}var Ee=class n{constructor(t,e,i,r){this.route=t;this.router=e;this.accountService=i;this.dataStateService=r}account;id="";headers;ngOnInit(){let t=this.dataStateService.getLocalStorageData("username"),e=this.dataStateService.getLocalStorageData("expireOn");this.headers={username:t,Authorization:e,"Content-Type":"application/json"},this.loadAccount()}loadAccount(){this.route.paramMap.subscribe(t=>{this.id=t.get("id")?.toString()}),console.log("Head"+JSON.stringify(this.headers)),console.log("Head"+JSON.stringify(this.headers.username)),this.id&&this.headers.username!=null&&this.accountService.getAccountById(this.id,this.headers).subscribe(t=>{console.log(JSON.stringify(t));let e={id:t.id,accountName:t.accountName,accountType:t.accountType,link:t.link,customDatas:t.customDatas,credentials:t.credentials,isDeleted:t.isDeleted};this.account=e},t=>{console.error("Error loading accounts1",t)})}deleteAccount(){this.id&&this.accountService.deleteAccount(this.id,this.headers).subscribe(t=>{let e=t?.status;e===204?(console.log("Item deleted successfully!"),this.router.navigate(["/account"])):e===404?console.error("Item not found"):e===500?console.error("Server error occurred"):console.log("Response status:",e)},t=>{console.error("Error deleting item:",t)})}copyAccount(t){delete t.id,this.dataStateService.setFormData(t),this.router.navigate(["/account","copy",""])}editAccount(t){delete t.id,this.dataStateService.setFormData(t),this.router.navigate(["/account","edit",this.id])}cancel(){this.router.navigate(["/account"])}static \u0275fac=function(e){return new(e||n)(u(B),u(O),u(U),u($))};static \u0275cmp=v({type:n,selectors:[["vault-account-edit"]],standalone:!0,features:[y],decls:4,vars:2,consts:[["noAccounts",""],["class","bg-card m-2 p-2 rounded",4,"ngIf","ngIfElse"],[1,"container"],[1,"container","p-5"],[1,"bg-card","m-2","p-2","rounded"],[1,"d-flex","justify-content-between","align-items-center","container-fluid","bg-title","p-2","mb-2","rounded","max-w-50","truncate-text"],[1,"max-width-100"],["target","_blank",1,"text-decoration-none","fs-2","text-white","fw-bolder",3,"href"],[1,"d-flex"],[1,"btn","btn-outline-light","btn-sm","me-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-copy"],["fill-rule","evenodd","d","M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"],[1,"btn","btn-outline-light","btn-sm",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-trash3-fill"],["d","M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5"],[1,"badge","bg-primary","rounded-pill"],[1,"table","table-dark","table-hover","rounded","bg-table"],[4,"ngIf"],[1,"bg-transparent"],[4,"ngFor","ngForOf"],[1,"bg-transparent","clearfix"],["type","button",1,"btn","btn-outline-light","fw-bolder","w-25",3,"click"],["type","button",1,"btn","btn-outline-light","float-end","w-25","fw-bolder",3,"click"],[1,"w-50","text-break","bg-transparent"],[1,"text-break","bg-transparent"],[1,"error-container"],[1,"error-title"],[1,"error-message"],["routerLink"," ",1,"error-link"]],template:function(e,i){if(e&1&&(g(0,xn,25,5,"div",1)(1,wn,9,0,"ng-template",2,0,xt),h(3,"div",3)),e&2){let r=Et(2);m("ngIf",i.account)("ngIfElse",r)}},dependencies:[D,Ae,N],styles:[".error-container[_ngcontent-%COMP%]{text-align:center;padding:50px;background-color:#f9f9f9}.error-title[_ngcontent-%COMP%]{font-size:48px;font-weight:700;color:#b92020}.error-message[_ngcontent-%COMP%]{font-size:18px;color:#6c757d}.error-link[_ngcontent-%COMP%]{display:inline-block;margin-top:20px;font-size:16px;text-decoration:none;color:#0275d8}.error-link[_ngcontent-%COMP%]:hover{text-decoration:underline}"]})};var Kt=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(u(ue),u(le))}}static{this.\u0275dir=_({type:n})}}return n})(),ut=(()=>{class n extends Kt{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,features:[C]})}}return n})(),je=new Z("");var In={provide:je,useExisting:F(()=>W),multi:!0};function Nn(){let n=tt()?tt().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var On=new Z(""),W=(()=>{class n extends Kt{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!Nn())}writeValue(e){let i=e??"";this.setProperty("value",i)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(u(ue),u(le),u(On,8))}}static{this.\u0275dir=_({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&c("input",function(f){return r._handleInput(f.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(f){return r._compositionEnd(f.target.value)})},features:[M([In]),C]})}}return n})();function L(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function Xt(n){return n!=null&&typeof n.length=="number"}var K=new Z(""),He=new Z(""),Tn=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,p=class{static min(t){return kn(t)}static max(t){return Pn(t)}static required(t){return Qt(t)}static requiredTrue(t){return Gn(t)}static email(t){return Rn(t)}static minLength(t){return jn(t)}static maxLength(t){return en(t)}static pattern(t){return tn(t)}static nullValidator(t){return Ie(t)}static compose(t){return ln(t)}static composeAsync(t){return cn(t)}};function kn(n){return t=>{if(L(t.value)||L(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function Pn(n){return t=>{if(L(t.value)||L(n))return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Qt(n){return L(n.value)?{required:!0}:null}function Gn(n){return n.value===!0?null:{required:!0}}function Rn(n){return L(n.value)||Tn.test(n.value)?null:{email:!0}}function jn(n){return t=>L(t.value)||!Xt(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}function en(n){return t=>Xt(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}function tn(n){if(!n)return Ie;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(L(i.value))return null;let r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Ie(n){return null}function nn(n){return n!=null}function rn(n){return wt(n)?yt(n):n}function on(n){let t={};return n.forEach(e=>{t=e!=null?V(V({},t),e):t}),Object.keys(t).length===0?null:t}function sn(n,t){return t.map(e=>e(n))}function Hn(n){return!n.validate}function an(n){return n.map(t=>Hn(t)?t:e=>t.validate(e))}function ln(n){if(!n)return null;let t=n.filter(nn);return t.length==0?null:function(e){return on(sn(e,t))}}function un(n){return n!=null?ln(an(n)):null}function cn(n){if(!n)return null;let t=n.filter(nn);return t.length==0?null:function(e){let i=sn(e,t).map(rn);return bt(i).pipe(Ct(on))}}function dn(n){return n!=null?cn(an(n)):null}function Ut(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function pn(n){return n._rawValidators}function mn(n){return n._rawAsyncValidators}function rt(n){return n?Array.isArray(n)?n:[n]:[]}function Ne(n,t){return Array.isArray(n)?n.includes(t):n===t}function $t(n,t){let e=rt(t);return rt(n).forEach(r=>{Ne(e,r)||e.push(r)}),e}function Lt(n,t){return rt(t).filter(e=>!Ne(n,e))}var Oe=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=un(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},A=class extends Oe{get formDirective(){return null}get path(){return null}},ve=class extends Oe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Te=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Bn={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},er=E(V({},Bn),{"[class.ng-submitted]":"isSubmitted"}),ne=(()=>{class n extends Te{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(u(ve,2))}}static{this.\u0275dir=_({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&et("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[C]})}}return n})(),ie=(()=>{class n extends Te{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(u(A,10))}}static{this.\u0275dir=_({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&et("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[C]})}}return n})();var me="VALID",xe="INVALID",Q="PENDING",he="DISABLED",q=class{},ke=class extends q{constructor(t,e){super(),this.value=t,this.source=e}},fe=class extends q{constructor(t,e){super(),this.pristine=t,this.source=e}},ge=class extends q{constructor(t,e){super(),this.touched=t,this.source=e}},ee=class extends q{constructor(t,e){super(),this.status=t,this.source=e}},ot=class extends q{constructor(t){super(),this.source=t}},st=class extends q{constructor(t){super(),this.source=t}};function ct(n){return(Be(n)?n.validators:n)||null}function Un(n){return Array.isArray(n)?un(n):n||null}function dt(n,t){return(Be(t)?t.asyncValidators:n)||null}function $n(n){return Array.isArray(n)?dn(n):n||null}function Be(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function hn(n,t,e){let i=n.controls;if(!(t?Object.keys(i):i).length)throw new Ve(1e3,"");if(!i[e])throw new Ve(1001,"")}function fn(n,t,e){n._forEachChild((i,r)=>{if(e[r]===void 0)throw new Ve(1002,"")})}var te=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=pe(()=>this.statusReactive()),this.statusReactive=ce(void 0),this._pristine=pe(()=>this.pristineReactive()),this.pristineReactive=ce(!0),this._touched=pe(()=>this.touchedReactive()),this.touchedReactive=ce(!1),this._events=new _t,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return H(this.statusReactive)}set status(t){H(()=>this.statusReactive.set(t))}get valid(){return this.status===me}get invalid(){return this.status===xe}get pending(){return this.status==Q}get disabled(){return this.status===he}get enabled(){return this.status!==he}get pristine(){return H(this.pristineReactive)}set pristine(t){H(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return H(this.touchedReactive)}set touched(t){H(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($t(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($t(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Lt(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Lt(t,this._rawAsyncValidators))}hasValidator(t){return Ne(this._rawValidators,t)}hasAsyncValidator(t){return Ne(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(E(V({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new ge(!0,i))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:i})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,i),e&&t.emitEvent!==!1&&this._events.next(new ge(!1,i))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let i=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(E(V({},t),{sourceControl:i})),e&&t.emitEvent!==!1&&this._events.next(new fe(!1,i))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,i),e&&t.emitEvent!==!1&&this._events.next(new fe(!0,i))}markAsPending(t={}){this.status=Q;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ee(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(E(V({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=he,this.errors=null,this._forEachChild(r=>{r.disable(E(V({},t),{onlySelf:!0}))}),this._updateValue();let i=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ke(this.value,i)),this._events.next(new ee(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(E(V({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=me,this._forEachChild(i=>{i.enable(E(V({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(E(V({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===me||this.status===Q)&&this._runAsyncValidator(i,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ke(this.value,e)),this._events.next(new ee(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(E(V({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?he:me}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Q,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let i=rn(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){let i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,i){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||i)&&this._events.next(new ee(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,i)}_initObservables(){this.valueChanges=new k,this.statusChanges=new k}_calculateStatus(){return this._allControlsDisabled()?he:this.errors?xe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Q)?Q:this._anyControlsHaveStatus(xe)?xe:me}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new fe(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new ge(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Be(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Un(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=$n(this._rawAsyncValidators)}},Pe=class extends te{constructor(t,e,i){super(ct(e),dt(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){fn(this,!0,t),Object.keys(t).forEach(i=>{hn(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(i=>{let r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>i._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var at=class extends Pe{};var gn=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>pt}),pt="always";function mt(n,t){return[...t.path,n]}function qt(n,t,e=pt){ht(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),qn(n,t),zn(n,t),Wn(n,t),Ln(n,t)}function Wt(n,t,e=!0){let i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Re(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ge(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function Ln(n,t){if(t.valueAccessor.setDisabledState){let e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function ht(n,t){let e=pn(n);t.validator!==null?n.setValidators(Ut(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let i=mn(n);t.asyncValidator!==null?n.setAsyncValidators(Ut(i,t.asyncValidator)):typeof i=="function"&&n.setAsyncValidators([i]);let r=()=>n.updateValueAndValidity();Ge(t._rawValidators,r),Ge(t._rawAsyncValidators,r)}function Re(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=pn(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(f=>f!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(t.asyncValidator!==null){let r=mn(n);if(Array.isArray(r)&&r.length>0){let o=r.filter(f=>f!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}let i=()=>{};return Ge(t._rawValidators,i),Ge(t._rawAsyncValidators,i),e}function qn(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&vn(n,t)})}function Wn(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&vn(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function vn(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function zn(n,t){let e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function Jn(n,t){n==null,ht(n,t)}function Yn(n,t){return Re(n,t)}function Zn(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Kn(n){return Object.getPrototypeOf(n.constructor)===ut}function Xn(n,t){n._syncPendingControls(),t.forEach(e=>{let i=e.control;i.updateOn==="submit"&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Qn(n,t){if(!t)return null;Array.isArray(t);let e,i,r;return t.forEach(o=>{o.constructor===W?e=o:Kn(o)?i=o:r=o}),r||i||e||null}function ei(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function zt(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Jt(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var we=class extends te{constructor(t=null,e,i){super(ct(e),dt(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Be(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Jt(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){zt(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){zt(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Jt(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var ti=n=>n instanceof we,ni=(()=>{class n extends A{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return mt(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,features:[C]})}}return n})();var re=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var _n=new Z("");var ii={provide:A,useExisting:F(()=>z)},z=(()=>{class n extends A{get submitted(){return H(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}constructor(e,i,r){super(),this.callSetDisabledState=r,this._submitted=pe(()=>this._submittedReactive()),this._submittedReactive=ce(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new k,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Re(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let i=this.form.get(e.path);return qt(i,e,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wt(e.control||null,e,!1),ei(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this._submittedReactive.set(!0),Xn(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new ot(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new st(this.form))}_updateDomValue(){this.directives.forEach(e=>{let i=e.control,r=this.form.get(e.path);i!==r&&(Wt(i||null,e),ti(r)&&(qt(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let i=this.form.get(e.path);Jn(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let i=this.form.get(e.path);i&&Yn(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ht(this.form,this),this._oldForm&&Re(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(i){return new(i||n)(u(K,10),u(He,10),u(gn,8))}}static{this.\u0275dir=_({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&c("submit",function(f){return r.onSubmit(f)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[M([ii]),C,Se]})}}return n})(),ri={provide:A,useExisting:F(()=>Ue)},Ue=(()=>{class n extends ni{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}_checkParentType(){yn(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(u(A,13),u(K,10),u(He,10))}}static{this.\u0275dir=_({type:n,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[M([ri]),C]})}}return n})(),oi={provide:A,useExisting:F(()=>$e)},$e=(()=>{class n extends A{constructor(e,i,r){super(),this.name=null,this._parent=e,this._setValidators(i),this._setAsyncValidators(r)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return mt(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){yn(this._parent)}static{this.\u0275fac=function(i){return new(i||n)(u(A,13),u(K,10),u(He,10))}}static{this.\u0275dir=_({type:n,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[M([oi]),C]})}}return n})();function yn(n){return!(n instanceof Ue)&&!(n instanceof z)&&!(n instanceof $e)}var si={provide:ve,useExisting:F(()=>X)},X=(()=>{class n extends ve{set isDisabled(e){}static{this._ngModelWarningSentOnce=!1}constructor(e,i,r,o,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new k,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=Qn(this,o)}ngOnChanges(e){this._added||this._setUpControl(),Zn(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return mt(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(i){return new(i||n)(u(A,13),u(K,10),u(He,10),u(je,10),u(_n,8))}}static{this.\u0275dir=_({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[M([si]),C,Se]})}}return n})(),ai={provide:je,useExisting:F(()=>Le),multi:!0};function Cn(n,t){return n==null?`${t}`:(t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function li(n){return n.split(":")[0]}var Le=(()=>{class n extends ut{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i=this._getOptionId(e),r=Cn(i,e);this.setProperty("value",r)}registerOnChange(e){this.onChange=i=>{this.value=this._getOptionValue(i),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),e))return i;return null}_getOptionValue(e){let i=li(e);return this._optionMap.has(i)?this._optionMap.get(i):e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&c("change",function(f){return r.onChange(f.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[M([ai]),C]})}}return n})(),bn=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(e){this._select!=null&&(this._select._optionMap.set(this.id,e),this._setElementValue(Cn(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(u(le),u(ue),u(Le,9))}}static{this.\u0275dir=_({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),ui={provide:je,useExisting:F(()=>Vn),multi:!0};function Yt(n,t){return n==null?`${t}`:(typeof t=="string"&&(t=`'${t}'`),t&&typeof t=="object"&&(t="Object"),`${n}: ${t}`.slice(0,50))}function ci(n){return n.split(":")[0]}var Vn=(()=>{class n extends ut{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;let i;if(Array.isArray(e)){let r=e.map(o=>this._getOptionId(o));i=(o,f)=>{o._setSelected(r.indexOf(f.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(e){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let f=o;for(let Y=0;Y<f.length;Y++){let be=f[Y],Ke=this._getOptionValue(be.value);r.push(Ke)}}else{let f=i.options;for(let Y=0;Y<f.length;Y++){let be=f[Y];if(be.selected){let Ke=this._getOptionValue(be.value);r.push(Ke)}}}this.value=r,e(r)}}_registerOption(e){let i=(this._idCounter++).toString();return this._optionMap.set(i,e),i}_getOptionId(e){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,e))return i;return null}_getOptionValue(e){let i=ci(e);return this._optionMap.has(i)?this._optionMap.get(i)._value:e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&c("change",function(f){return r.onChange(f.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[M([ui]),C]})}}return n})(),Sn=(()=>{class n{constructor(e,i,r){this._element=e,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){this._select!=null&&(this._value=e,this._setElementValue(Yt(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Yt(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(i){return new(i||n)(u(le),u(ue),u(Vn,9))}}static{this.\u0275dir=_({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function di(n){return typeof n=="number"?n:parseInt(n,10)}var ft=(()=>{class n{constructor(){this._validator=Ie}ngOnChanges(e){if(this.inputName in e){let i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Ie,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=_({type:n,features:[Se]})}}return n})();var pi={provide:K,useExisting:F(()=>gt),multi:!0};var gt=(()=>{class n extends ft{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Nt,this.createValidator=e=>Qt}enabled(e){return e}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,r){i&2&&De("required",r._enabled?"":null)},inputs:{required:"required"},features:[M([pi]),C]})}}return n})();var mi={provide:K,useExisting:F(()=>_e),multi:!0},_e=(()=>{class n extends ft{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>di(e),this.createValidator=e=>en(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&De("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},features:[M([mi]),C]})}}return n})(),hi={provide:K,useExisting:F(()=>ye),multi:!0},ye=(()=>{class n extends ft{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=e=>e,this.createValidator=e=>tn(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=j(n)))(r||n)}})()}static{this.\u0275dir=_({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&De("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[M([hi]),C]})}}return n})();var fi=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Xe({})}}return n})(),lt=class extends te{constructor(t,e,i){super(ct(e),dt(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){fn(this,!1,t),t.forEach((i,r)=>{hn(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>i._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Zt(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var oe=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,i=null){let r=this._reduceControls(e),o={};return Zt(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Pe(r,o)}record(e,i=null){let r=this._reduceControls(e);return new at(r,i)}control(e,i,r){let o={};return this.useNonNullable?(Zt(i)?o=i:(o.validators=i,o.asyncValidators=r),new we(e,E(V({},o),{nonNullable:!0}))):new we(e,i,r)}array(e,i,r){let o=e.map(f=>this._createControl(f));return new lt(o,i,r)}_reduceControls(e){let i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){if(e instanceof we)return e;if(e instanceof te)return e;if(Array.isArray(e)){let i=e[0],r=e.length>1?e[1]:null,o=e.length>2?e[2]:null;return this.control(i,r,o)}else return this.control(e)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=Vt({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var se=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:_n,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:gn,useValue:e.callSetDisabledState??pt}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=Qe({type:n})}static{this.\u0275inj=Xe({imports:[fi]})}}return n})();function gi(n,t){n&1&&(s(0,"div",33),l(1," Account Name is required. "),a())}function vi(n,t){if(n&1&&(s(0,"option",34),l(1),a()),n&2){let e=t.$implicit;m("value",e.value),d(),S("",e.value," ")}}function _i(n,t){n&1&&(s(0,"div",33),l(1," Valid link is required. "),a())}function yi(n,t){n&1&&(s(0,"div",42),l(1," Both Username and Password are required. "),a())}function Ci(n,t){if(n&1&&(s(0,"div",35)(1,"label",36),l(2),a(),s(3,"div",28)(4,"div",37),h(5,"input",38),a(),s(6,"div",39),h(7,"input",40),a()(),g(8,yi,2,0,"div",41),a()),n&2){let e=t.$implicit,i=t.index;m("formGroupName",i),d(2),S("Credential ",i+1,""),d(6),m("ngIf",e.invalid&&e.touched)}}function bi(n,t){n&1&&(s(0,"div",42),l(1," Both Key and Value are required. "),a())}function Vi(n,t){if(n&1&&(s(0,"div",35)(1,"label",36),l(2),a(),s(3,"div",28)(4,"div",37),h(5,"input",43),a(),s(6,"div",39),h(7,"input",44),a()(),g(8,bi,2,0,"div",41),a()),n&2){let e=t.$implicit,i=t.index;m("formGroupName",i),d(2),S("Custom Data ",i+1,""),d(6),m("ngIf",e.invalid&&e.touched)}}function Si(n,t){n&1&&(s(0,"div",45)(1,"div",46)(2,"h1",47),l(3,"No records found"),a(),s(4,"p",48),l(5,"Please try later."),a()()())}var qe=class n{constructor(t,e,i,r,o){this.fb=t;this.router=e;this.route=i;this.accountService=r;this.dataStateService=o;this.accountForm=this.fb.group({accountName:["",p.required],accountType:["",p.required],isDeleted:[!1],link:["",[p.required,p.pattern("https?://.+")]]})}accountForm;AccountType=Bt;formData={};headers;ngOnInit(){let t=this.dataStateService.getLocalStorageData("username"),e=this.dataStateService.getLocalStorageData("expireOn");if(this.headers={username:t,Authorization:e},this.formData=this.dataStateService.getFormData(),this.formData==null)this.accountForm.setControl("credentials",this.fb.array([this.createCredential()])),this.accountForm.setControl("customDatas",this.fb.array([]));else{let i=[];this.formData.credentials.length>0&&this.formData.credentials.forEach(()=>{i.push(this.createCredential())});let r=[];this.formData.customDatas.length>0&&this.formData.customDatas.forEach(()=>{r.push(this.createCustomData())}),this.accountForm.setControl("credentials",this.fb.array(i)),this.accountForm.setControl("customDatas",this.fb.array(r)),this.accountForm.setValue(this.formData),this.dataStateService.setFormData(null)}this.accountForm.setControl("isDeleted",!1)}createCustomData(){return this.fb.group({key:[""],value:[""]})}createCredential(){return this.fb.group({username:["",p.required],password:["",p.required]})}get customDatas(){return this.accountForm.get("customDatas")}get credentials(){return this.accountForm.get("credentials")}addCustomData(){this.customDatas.push(this.createCustomData())}addCredential(){this.credentials.push(this.createCredential())}error;id;onSubmit(){if(this.accountForm.valid){console.log("Form submitted",JSON.stringify(this.accountForm.value));let t={accountName:this.accountForm.value.accountName,accountType:this.accountForm.value.accountType,link:this.accountForm.value.link,customDatas:this.accountForm.value.customDatas,credentials:this.accountForm.value.credentials,isDeleted:this.accountForm.value.isDeleted};switch(console.log("Form submitted2",JSON.stringify(t)),this.route.paramMap.subscribe(i=>{i.get("action")?.toString()}),this.route.paramMap.subscribe(i=>{this.id=i.get("id")?.toString()}),this.getAction()){case"add":this.createAccount(t);break;case"copy":this.createAccount(t);break;case"edit":t.id=this.id,this.updateAccount(this.id,t),console.log("update");break;default:console.log("Switch case suprise")}}else console.log("Form is invalid")}getAction(){let t;return this.route.paramMap.subscribe(e=>{t=e.get("action")?.toString()}),t??"add"}createAccount(t){this.accountService.createAccount(t,this.headers).subscribe(e=>{console.log("Res"+JSON.stringify(e)),this.router.navigate(["/account/details",e.id])},e=>{console.error("Error loading accounts",e)})}updateAccount(t,e){t&&this.accountService.updateAccount(t,e,this.headers).subscribe(i=>{let r=i?.status;console.log(r),r===204&&(console.log("Item Update successfully!"),this.router.navigate(["/account/details",t]))},i=>{console.error("Error loading accounts",i)})}cancel(){this.router.navigate(["/account"])}static \u0275fac=function(e){return new(e||n)(u(oe),u(O),u(B),u(U),u($))};static \u0275cmp=v({type:n,selectors:[["vault-account-add"]],standalone:!0,features:[y],decls:59,vars:10,consts:[[1,"bg-card","m-2","p-2","rounded"],[1,"border-top","border-light","w-100","mx-auto"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","accountName",1,"form-label"],["id","accountName","formControlName","accountName",1,"form-control","bg-title"],["class","invalid-feedback",4,"ngIf"],["for","type",1,"form-label"],["id","type","formControlName","accountType",1,"form-select","bg-title"],["class","bg-dark",3,"value",4,"ngFor","ngForOf"],["for","link",1,"form-label"],["id","link","formControlName","link",1,"form-control","bg-title"],["formArrayName","credentials"],["class","mb-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"clearfix"],["type","button",1,"btn","btn-secondary","fw-bolder","text-start","float-start","m-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-x"],["d","M6.854 7.146a.5.5 0 1 0-.708.708L7.293 9l-1.147 1.146a.5.5 0 0 0 .708.708L8 9.707l1.146 1.147a.5.5 0 0 0 .708-.708L8.707 9l1.147-1.146a.5.5 0 0 0-.708-.708L8 8.293z"],["d","M14 14V4.5L9.5 0H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2M9.5 3A1.5 1.5 0 0 0 11 4.5h2V14a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h5.5z"],["type","button",1,"btn","btn-secondary","fw-bolder","text-start","float-end","m-1",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-file-earmark-plus"],["d","M8 6.5a.5.5 0 0 1 .5.5v1.5H10a.5.5 0 0 1 0 1H8.5V11a.5.5 0 0 1-1 0V9.5H6a.5.5 0 0 1 0-1h1.5V7a.5.5 0 0 1 .5-.5"],["d","M14 4.5V14a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h5.5zm-3 0A1.5 1.5 0 0 1 9.5 3V1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4.5z"],["formArrayName","customDatas"],[1,"clearfix","mt-2"],["type","button",1,"btn","btn-outline-light","fw-bolder","w-25","float-start",3,"click"],["type","submit",1,"btn","btn-outline-light","fw-bolder","w-25","float-end",3,"disabled"],["role","alert","aria-live","assertive","aria-atomic","true",1,"toast","align-items-center"],[1,"d-flex"],[1,"toast-body"],["type","button","data-bs-dismiss","toast","aria-label","Close",1,"btn-close","me-2","m-auto"],["class","container",4,"ngIf"],[1,"container","p-5"],[1,"invalid-feedback"],[1,"bg-dark",3,"value"],[1,"mb-3",3,"formGroupName"],[1,"form-label"],[1,"flex-fill","me-2"],["formControlName","username","placeholder","Username",1,"form-control","bg-title"],[1,"flex-fill"],["formControlName","password","placeholder","Password",1,"form-control","bg-title"],["class","invalid-feedback d-block",4,"ngIf"],[1,"invalid-feedback","d-block"],["formControlName","key","placeholder","Key",1,"form-control","bg-title"],["formControlName","value","placeholder","Value",1,"form-control","bg-title"],[1,"container"],[1,"error-container","m-5"],[1,"error-title"],[1,"error-message"]],template:function(e,i){if(e&1&&(s(0,"div",0)(1,"h2"),l(2,"Account Form"),a(),h(3,"hr",1),s(4,"form",2),c("ngSubmit",function(){return i.onSubmit()}),s(5,"div",3)(6,"label",4),l(7,"Account Name"),a(),h(8,"input",5),g(9,gi,2,0,"div",6),a(),s(10,"div",3)(11,"label",7),l(12,"Account Type"),a(),s(13,"select",8),g(14,vi,2,2,"option",9),Ft(15,"keyvalue"),a()(),s(16,"div",3)(17,"label",10),l(18,"Account Link"),a(),h(19,"input",11),g(20,_i,2,0,"div",6),a(),s(21,"div",12),g(22,Ci,9,3,"div",13),s(23,"div",14)(24,"button",15),c("click",function(){return i.addCredential()}),x(),s(25,"svg",16),h(26,"path",17)(27,"path",18),a(),l(28," Credential"),a(),w(),s(29,"button",19),c("click",function(){return i.addCredential()}),x(),s(30,"svg",20),h(31,"path",21)(32,"path",22),a(),l(33," Credential"),a()()(),w(),s(34,"div",23),g(35,Vi,9,3,"div",13),s(36,"div",24)(37,"button",15),c("click",function(){return i.addCustomData()}),x(),s(38,"svg",16),h(39,"path",17)(40,"path",18),a(),l(41," Custom Data"),a(),w(),s(42,"button",19),c("click",function(){return i.addCustomData()}),x(),s(43,"svg",20),h(44,"path",21)(45,"path",22),a(),l(46," Custom Data"),a()()(),w(),s(47,"div",24)(48,"button",25),c("click",function(){return i.cancel()}),l(49,"Cancel"),a(),s(50,"button",26),l(51,"Submit"),a()()()(),s(52,"div",27)(53,"div",28)(54,"div",29),l(55," Hello, world! This is a toast message. "),a(),h(56,"button",30),a()(),g(57,Si,6,0,"div",31),h(58,"div",32)),e&2){let r,o;d(4),m("formGroup",i.accountForm),d(5),m("ngIf",(r=i.accountForm.get("accountName"))==null?null:r.touched),d(5),m("ngForOf",Mt(15,8,i.AccountType)),d(6),m("ngIf",((o=i.accountForm.get("link"))==null?null:o.touched)&&((o=i.accountForm.get("link"))==null?null:o.invalid)),d(2),m("ngForOf",i.credentials.controls),d(13),m("ngForOf",i.customDatas.controls),d(15),m("disabled",i.accountForm.invalid),d(7),m("ngIf",i.error)}},dependencies:[D,Ae,N,Ot,se,re,bn,Sn,W,Le,ne,ie,z,X,Ue,$e]})};var We=class n{currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["vault-more"]],standalone:!0,features:[y],decls:7,vars:1,consts:[[1,"navbar","navbar-expand-sm","bg-dark","navbar-dark","fixed-top"],[1,"container-fluid","justify-content-center"],[1,"navbar-text"]],template:function(e,i){e&1&&(s(0,"nav",0)(1,"div",1)(2,"span",2),l(3),a()(),s(4,"div",1)(5,"span",2),l(6,"version 1.0.0"),a()()()),e&2&&(d(3),S("\xA9 Managed Vault ",i.currentYear,". All rights reserved."))}})};var ze=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["vault-filter"]],standalone:!0,features:[y],decls:2,vars:0,template:function(e,i){e&1&&(s(0,"p"),l(1,"filter works!"),a())}})};var J=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["vault-spinner-grow"]],standalone:!0,features:[y],decls:4,vars:0,consts:[[1,"dot-container"],[1,"dot"]],template:function(e,i){e&1&&(s(0,"div",0),h(1,"div",1)(2,"div",1)(3,"div",1),a())},styles:[".dot-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:70px}.dot[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:50%;background-color:currentcolor;opacity:0;animation:_ngcontent-%COMP%_grow 2s ease-in-out infinite}.dot[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.dot[_ngcontent-%COMP%]:nth-child(2){animation-delay:.3s}.dot[_ngcontent-%COMP%]:nth-child(3){animation-delay:.6s}@keyframes _ngcontent-%COMP%_grow{0%{opacity:0;transform:scale(0)}50%{opacity:1;transform:scale(1.2)}to{opacity:0;transform:scale(0)}}"]})};var Ce=class n{constructor(t,e){this.router=t;this.platformId=e}ngOnInit(){setTimeout(()=>{this.router.navigate(["/authN"])},5e3),Tt(this.platformId)&&console.log(window.innerWidth)}currentYear=new Date().getFullYear();static \u0275fac=function(e){return new(e||n)(u(O),u(St))};static \u0275cmp=v({type:n,selectors:[["vault-welcome"]],standalone:!0,features:[y],decls:13,vars:1,consts:[[1,"container-fluid","d-flex","justify-content-center","align-items-center",2,"height","80vh"],[1,"text-center"],[1,"fw-bolder","theme-color-light"],["src","vault_logo.png","alt","managevault.com",2,"width","70px"],[1,"d-flex","justify-content-center"],[1,"theme-color-light"],[1,"navbar","fixed-bottom"],[1,"container-fluid","justify-content-center"],[1,"navbar-text","text-end"]],template:function(e,i){e&1&&(s(0,"div",0)(1,"div",1)(2,"h2",2),h(3,"img",3),l(4," Managed Vault "),a()()(),s(5,"div",4),h(6,"vault-spinner-grow",5),a(),s(7,"nav",6)(8,"div",7)(9,"span",8),l(10),h(11,"br"),l(12," Version 1.0.1"),a()()()),e&2&&(d(10),S("\xA9 Managed Vault ",i.currentYear,". All rights reserved."))},dependencies:[D,J]})};function Di(n,t){n&1&&(s(0,"div",22),l(1," User Name is required. "),a())}function Ai(n,t){n&1&&(s(0,"div",23),h(1,"vault-spinner-grow",24),a())}function Ei(n,t){if(n&1&&(s(0,"div",25)(1,"div",26)(2,"h4",27),l(3),a(),s(4,"p",28),l(5),a()()()),n&2){let e=b();d(3),I(e.error.title),d(2),I(e.error.message)}}var Je=class n{constructor(t,e,i,r,o){this.fb=t;this.router=e;this.route=i;this.accountService=r;this.dataStateService=o;this.passcodeForm=this.fb.group({username:["",p.required],otp1:["",p.required],otp2:["",p.required],otp3:["",p.required],otp4:["",p.required],otp5:["",p.required],otp6:["",p.required]})}passcodeForm;unauthUser=!1;error={message:"",title:""};verifyProgress=!1;openSignupEvent=new k;shiftToNextInput(t,e){let i=t.target;if(console.log(t),i&&i.value.length===1){if(e<=6){let r=document.getElementById(`otp${e+1}`);/^\d$/.test(i.value)&&r&&r.focus()}}else if(i&&i.value===""&&e>1){let r=document.getElementById(`otp${e-1}`);r&&r.focus()}}verifyPasscode(){if(this.verifyProgress=!0,this.error.title="",this.error.message="",this.passcodeForm.valid){let t=`${this.passcodeForm.value.otp1}${this.passcodeForm.value.otp2}${this.passcodeForm.value.otp3}${this.passcodeForm.value.otp4}${this.passcodeForm.value.otp5}${this.passcodeForm.value.otp6}`,e={username:this.passcodeForm.value.username,password:t};this.accountService.passcodeVerification(e).subscribe(i=>{i?.status===200&&(localStorage.setItem("username",i.body.username),localStorage.setItem("authorized",i.body.authorized),localStorage.setItem("expireOn",i.body.expireOn),this.router.navigate(["/account"]))},i=>{this.unauthUser=!0,i.status===401?this.error.message="Passcode mismatched":this.error.message=`Something wrong happened,
 please try later`,this.passcodeForm.reset(),this.verifyProgress=!1})}}openSignup(){this.openSignupEvent.emit(!0)}static \u0275fac=function(e){return new(e||n)(u(oe),u(O),u(B),u(U),u($))};static \u0275cmp=v({type:n,selectors:[["vault-passcode"]],outputs:{openSignupEvent:"openSignup"},standalone:!0,features:[y],decls:29,vars:5,consts:[[1,"col-12","col-6"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","usernameVerify",1,"form-label"],["type","text","id","usernameVerify","formControlName","username",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","otp",1,"form-label"],[1,"otp-container"],["type","text","formControlName","otp1","maxlength","1","id","otp1","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","text","formControlName","otp2","maxlength","1","id","otp2","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","text","formControlName","otp3","maxlength","1","id","otp3","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","text","formControlName","otp4","maxlength","1","id","otp4","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","text","formControlName","otp5","maxlength","1","id","otp5","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","text","formControlName","otp6","maxlength","1","id","otp6","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],[1,"text-center","mt-5"],["type","submit",1,"btn","btn-primary","w-100","p-2",3,"disabled"],[1,"clearfix","mt-2"],[1,"link-offset-2","link-offset-3-hover","link-underline","link-underline-opacity-0","link-underline-opacity-75-hover","float-start",3,"click"],["href","/authN/signUp",1,"link-offset-2","link-offset-3-hover","link-underline","link-underline-opacity-0","link-underline-opacity-75-hover","float-end"],["class","d-flex justify-content-center fixed-bottom m-3",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"invalid-feedback"],[1,"d-flex","justify-content-center","fixed-bottom","m-3"],[1,"text-primary"],[1,"d-flex","justify-content-center"],[1,"error-container"],[1,"error-title","text-danger"],[1,"error-message","text-danger"]],template:function(e,i){if(e&1&&(s(0,"div",0)(1,"div",1)(2,"h3"),l(3,"Passcode Verification"),a()(),s(4,"form",2),c("ngSubmit",function(){return i.verifyPasscode()}),s(5,"div",3)(6,"label",4),l(7,"Username"),a(),h(8,"input",5),g(9,Di,2,0,"div",6),a(),s(10,"label",7),l(11,"Enter 6-digit passcode"),a(),s(12,"div",8)(13,"input",9),c("input",function(o){return i.shiftToNextInput(o,1)}),a(),s(14,"input",10),c("input",function(o){return i.shiftToNextInput(o,2)}),a(),s(15,"input",11),c("input",function(o){return i.shiftToNextInput(o,3)}),a(),s(16,"input",12),c("input",function(o){return i.shiftToNextInput(o,4)}),a(),s(17,"input",13),c("input",function(o){return i.shiftToNextInput(o,5)}),a(),s(18,"input",14),c("input",function(o){return i.shiftToNextInput(o,6)}),a()(),s(19,"div",15)(20,"button",16),l(21,"Verify Passcode"),a()(),s(22,"div",17)(23,"a",18),c("click",function(){return i.openSignup()}),l(24," SignUp "),a(),s(25,"a",19),l(26," Forget Passcode "),a()()()(),g(27,Ai,2,0,"div",20)(28,Ei,6,2,"div",21)),e&2){let r;d(4),m("formGroup",i.passcodeForm),d(5),m("ngIf",(r=i.passcodeForm.get("username"))==null?null:r.touched),d(11),m("disabled",i.passcodeForm.invalid),d(7),m("ngIf",i.verifyProgress),d(),m("ngIf",i.unauthUser)}},dependencies:[se,re,W,ne,ie,_e,ye,z,X,D,N,J],styles:[".otp-container[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:7px}.otp-input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:24px;border:2px solid #ccc;border-radius:5px}.otp-input[_ngcontent-%COMP%]:focus{border-color:#dc428e;outline:none}.otp-input[_ngcontent-%COMP%]::placeholder{color:transparent}"]})};function Fi(n,t){n&1&&(s(0,"div",40),l(1," User Name is required. "),a())}function Mi(n,t){n&1&&(s(0,"div",41),h(1,"vault-spinner-grow",42),a())}function xi(n,t){if(n&1&&(s(0,"div",43)(1,"div",44)(2,"h4",45),l(3),a(),s(4,"p",46),l(5),a()()()),n&2){let e=b();d(3),I(e.error.title),d(2),I(e.error.message)}}var ae=class n{constructor(t,e,i,r,o){this.fb=t;this.router=e;this.route=i;this.accountService=r;this.dataStateService=o;this.signupForm=this.fb.group({username:["",p.required],mobile1:["",p.required],mobile2:["",p.required],mobile3:["",p.required],mobile4:["",p.required],mobile5:["",p.required],mobile6:["",p.required],mobile7:["",p.required],mobile8:["",p.required],mobile9:["",p.required],mobile10:["",p.required],passcode1:["",p.required],passcode2:["",p.required],passcode3:["",p.required],passcode4:["",p.required],passcode5:["",p.required],passcode6:["",p.required],confirm1:["",p.required],confirm2:["",p.required],confirm3:["",p.required],confirm4:["",p.required],confirm5:["",p.required],confirm6:["",p.required]})}signupForm;unauthUser=!1;error={message:"",title:""};verifyProgress=!1;backEvent=new k;shiftToNextInput(t,e,i){let r=t.target;if(console.log(t),r&&r.value.length===1){let o=i=="mobile"?10:6;if(e<=o){let f=document.getElementById(`${i}${e+1}`);/^\d$/.test(r.value)&&f&&f.focus()}}else if(r&&r.value===""&&e>1){let o=document.getElementById(`${i}${e-1}`);o&&o.focus()}}signupNewUser(){if(this.verifyProgress=!0,this.error.title="",this.error.message="",this.signupForm.valid){let t=`${this.signupForm.value.mobile1}${this.signupForm.value.mobile2}${this.signupForm.value.mobile3}${this.signupForm.value.mobile4}${this.signupForm.value.mobile5}${this.signupForm.value.mobile6}${this.signupForm.value.mobile7}${this.signupForm.value.mobile8}${this.signupForm.value.mobile9}${this.signupForm.value.mobile10}`,e=`${this.signupForm.value.passcode1}${this.signupForm.value.passcode2}${this.signupForm.value.passcode3}${this.signupForm.value.passcode4}${this.signupForm.value.passcode5}${this.signupForm.value.passcode6}`,i=`${this.signupForm.value.confirm1}${this.signupForm.value.confirm2}${this.signupForm.value.confirm3}${this.signupForm.value.confirm4}${this.signupForm.value.confirm5}${this.signupForm.value.confirm6}`;if(e!=i)this.unauthUser=!0,console.log(e+"{}"+i),this.error.title="Passcode mismatched",this.error.message="Please try later",this.signupForm.reset();else{let r={contact:t,credential:{username:this.signupForm.value.username,password:e}};console.log("Form submitted",JSON.stringify(r)),this.accountService.userSignup(r).subscribe(o=>{let f=o?.status;console.log(JSON.stringify(o)),f===201&&(this.signupForm.reset(),this.verifyProgress=!1,this.unauthUser=!0,this.error.message=`Welcome ${o.body.credential.username}, Thank you for signup.`)},o=>{this.unauthUser=!0,o.status===401?this.error.message="Passcode mismatched":this.error.message=`Something wrong happened,
 please try later`,this.error.title=o.error.title,this.signupForm.reset(),this.verifyProgress=!1})}}}back(){this.backEvent.emit(!0)}static \u0275fac=function(e){return new(e||n)(u(oe),u(O),u(B),u(U),u($))};static \u0275cmp=v({type:n,selectors:[["vault-signup"]],outputs:{backEvent:"back"},standalone:!0,features:[y],decls:52,vars:5,consts:[[1,"icon-link","icon-link-hover","fixed-top-right","m-2",3,"click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-backspace-fill"],["d","M15.683 3a2 2 0 0 0-2-2h-7.08a2 2 0 0 0-1.519.698L.241 7.35a1 1 0 0 0 0 1.302l4.843 5.65A2 2 0 0 0 6.603 15h7.08a2 2 0 0 0 2-2zM5.829 5.854a.5.5 0 1 1 .707-.708l2.147 2.147 2.146-2.147a.5.5 0 1 1 .707.708L9.39 8l2.146 2.146a.5.5 0 0 1-.707.708L8.683 8.707l-2.147 2.147a.5.5 0 0 1-.707-.708L7.976 8z"],[1,"col-12","col-6"],[1,"text-center"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","username",1,"form-label"],["id","username","formControlName","username",1,"form-control"],["class","invalid-feedback",4,"ngIf"],["for","mobile",1,"form-label"],[1,"mobile-container"],["type","tel","formControlName","mobile1","maxlength","1","id","mobile1","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile2","maxlength","1","id","mobile2","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile3","maxlength","1","id","mobile3","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile4","maxlength","1","id","mobile4","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile5","maxlength","1","id","mobile5","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile6","maxlength","1","id","mobile6","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile7","maxlength","1","id","mobile7","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile8","maxlength","1","id","mobile8","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile9","maxlength","1","id","mobile9","inputmode","numeric","required","","pattern","^\\d{1}$","autocomplete","off",1,"mobile-input",3,"input"],["type","tel","formControlName","mobile10","maxlength","1","id","mobile10","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"mobile-input",3,"input"],["for","passcode",1,"form-label"],[1,"otp-container"],["type","password","formControlName","passcode1","maxlength","1","id","passcode1","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","passcode2","maxlength","1","id","passcode2","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","passcode3","maxlength","1","id","passcode3","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","passcode4","maxlength","1","id","passcode4","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","passcode5","maxlength","1","id","passcode5","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","passcode6","maxlength","1","id","passcode6","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm1","maxlength","1","id","confirm1","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm2","maxlength","1","id","confirm2","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm3","maxlength","1","id","confirm3","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm4","maxlength","1","id","confirm4","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm5","maxlength","1","id","confirm5","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],["type","password","formControlName","confirm6","maxlength","1","id","confirm6","inputmode","numeric","pattern","\\d*","autocomplete","off",1,"otp-input",3,"input"],[1,"text-center","mt-5"],["type","submit",1,"btn","btn-primary","w-100","p-2",3,"disabled"],["class","d-flex justify-content-center fixed-bottom m-3",4,"ngIf"],["class","d-flex justify-content-center",4,"ngIf"],[1,"invalid-feedback"],[1,"d-flex","justify-content-center","fixed-bottom","m-3"],[1,"text-primary"],[1,"d-flex","justify-content-center"],[1,"error-container"],[1,"error-title","text-danger"],[1,"error-message","text-danger"]],template:function(e,i){if(e&1&&(s(0,"div",0),c("click",function(){return i.back()}),x(),s(1,"svg",1),h(2,"path",2),a()(),w(),s(3,"div",3)(4,"div",4)(5,"h3"),l(6,"SignUp"),a()(),s(7,"form",5),c("ngSubmit",function(){return i.signupNewUser()}),s(8,"div",6)(9,"label",7),l(10,"Username"),a(),h(11,"input",8),g(12,Fi,2,0,"div",9),a(),s(13,"div",6)(14,"label",10),l(15,"Enter 10-digit Mobile Number"),a(),s(16,"div",11)(17,"input",12),c("input",function(o){return i.shiftToNextInput(o,1,"mobile")}),a(),s(18,"input",13),c("input",function(o){return i.shiftToNextInput(o,2,"mobile")}),a(),s(19,"input",14),c("input",function(o){return i.shiftToNextInput(o,3,"mobile")}),a(),s(20,"input",15),c("input",function(o){return i.shiftToNextInput(o,4,"mobile")}),a(),s(21,"input",16),c("input",function(o){return i.shiftToNextInput(o,5,"mobile")}),a(),s(22,"input",17),c("input",function(o){return i.shiftToNextInput(o,6,"mobile")}),a(),s(23,"input",18),c("input",function(o){return i.shiftToNextInput(o,7,"mobile")}),a(),s(24,"input",19),c("input",function(o){return i.shiftToNextInput(o,8,"mobile")}),a(),s(25,"input",20),c("input",function(o){return i.shiftToNextInput(o,9,"mobile")}),a(),s(26,"input",21),c("input",function(o){return i.shiftToNextInput(o,10,"mobile")}),a()()(),s(27,"div",6)(28,"label",22),l(29,"Enter 6-digit Passcode"),a(),s(30,"div",23)(31,"input",24),c("input",function(o){return i.shiftToNextInput(o,1,"passcode")}),a(),s(32,"input",25),c("input",function(o){return i.shiftToNextInput(o,2,"passcode")}),a(),s(33,"input",26),c("input",function(o){return i.shiftToNextInput(o,3,"passcode")}),a(),s(34,"input",27),c("input",function(o){return i.shiftToNextInput(o,4,"passcode")}),a(),s(35,"input",28),c("input",function(o){return i.shiftToNextInput(o,5,"passcode")}),a(),s(36,"input",29),c("input",function(o){return i.shiftToNextInput(o,6,"passcode")}),a()()(),s(37,"div",6)(38,"label",22),l(39,"Enter 6-digit Confirm Passcode"),a(),s(40,"div",23)(41,"input",30),c("input",function(o){return i.shiftToNextInput(o,1,"confirm")}),a(),s(42,"input",31),c("input",function(o){return i.shiftToNextInput(o,2,"confirm")}),a(),s(43,"input",32),c("input",function(o){return i.shiftToNextInput(o,3,"confirm")}),a(),s(44,"input",33),c("input",function(o){return i.shiftToNextInput(o,4,"confirm")}),a(),s(45,"input",34),c("input",function(o){return i.shiftToNextInput(o,5,"confirm")}),a(),s(46,"input",35),c("input",function(o){return i.shiftToNextInput(o,6,"confirm")}),a()()(),s(47,"div",36)(48,"button",37),l(49,"SignUp "),a()()()(),g(50,Mi,2,0,"div",38)(51,xi,6,2,"div",39)),e&2){let r;d(7),m("formGroup",i.signupForm),d(5),m("ngIf",(r=i.signupForm.get("username"))==null?null:r.touched),d(36),m("disabled",i.signupForm.invalid),d(2),m("ngIf",i.verifyProgress),d(),m("ngIf",i.unauthUser)}},dependencies:[se,re,W,ne,ie,gt,_e,ye,z,X,D,N,J],styles:[".otp-container[_ngcontent-%COMP%]{display:flex;justify-content:left;gap:7px}.otp-input[_ngcontent-%COMP%]{width:50px;height:50px;text-align:center;font-size:24px;border:2px solid #ccc;border-radius:5px}.otp-input[_ngcontent-%COMP%]:focus{border-color:#dc428e;outline:none}.otp-input[_ngcontent-%COMP%]::placeholder{color:transparent}.mobile-container[_ngcontent-%COMP%]{display:flex;justify-content:left;gap:4px}.mobile-input[_ngcontent-%COMP%]{width:30px;height:50px;text-align:center;font-size:24px;border:2px solid #ccc;border-radius:5px}.mobile-input[_ngcontent-%COMP%]:focus{border-color:#dc428e;outline:none}.mobile-input[_ngcontent-%COMP%]::placeholder{color:transparent}.fixed-top-right[_ngcontent-%COMP%]{color:#0d6efd;position:fixed;top:0;right:0;z-index:1030}.fixed-top-right[_ngcontent-%COMP%]:hover{color:#0b5ed7}.icon-link[_ngcontent-%COMP%] > .bi[_ngcontent-%COMP%]{flex-shrink:0;width:2em;height:2em;fill:currentcolor;transition:.2s ease-in-out transform}"]})};function wi(n,t){if(n&1){let e=de();s(0,"vault-passcode",3),c("openSignup",function(r){G(e);let o=b();return R(o.toggleSignup(r))}),a()}}function Ii(n,t){if(n&1){let e=de();s(0,"vault-signup",4),c("back",function(r){G(e);let o=b();return R(o.toggleSignup(r))}),a()}}var Ye=class n{unauthUser=!0;signupOpen=!1;toggleSignup(t){t&&(this.unauthUser=!this.unauthUser)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["vault-auth"]],standalone:!0,features:[y],decls:3,vars:2,consts:[[1,"container-fluid","d-flex","justify-content-center"],["style","margin-top: 20vh;",3,"openSignup",4,"ngIf"],["style","margin-top: 10vh;",3,"back",4,"ngIf"],[2,"margin-top","20vh",3,"openSignup"],[2,"margin-top","10vh",3,"back"]],template:function(e,i){e&1&&(s(0,"div",0),g(1,wi,1,0,"vault-passcode",1)(2,Ii,1,0,"vault-signup",2),a()),e&2&&(d(),m("ngIf",i.unauthUser),d(),m("ngIf",!i.unauthUser))},dependencies:[Je,ae,D,N],styles:[".nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;font-weight:500}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff;background-color:#007bff;border-color:#007bff}.tab-content[_ngcontent-%COMP%]{padding:15px;background-color:#f8f9fa;border:1px solid #ddd;border-top:none}"]})};var Dn=[{path:"",component:Ce},{path:"authN",component:Ye},{path:"authN/signUp",component:ae},{path:"account",loadChildren:()=>import("./chunk-HR53ESJB.js").then(n=>n.AccountsModule)},{path:"account/details/:id",component:Ee},{path:"account/:action/:id",component:qe},{path:"more",component:We},{path:"filter",component:ze},{path:"**",component:Ce}];var An={providers:[It({eventCoalescing:!0}),Ht(Dn),Rt(),kt(Pt())]};var Ze=class n{title="vault";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],standalone:!0,features:[y],decls:1,vars:0,template:function(e,i){e&1&&h(0,"router-outlet")},dependencies:[jt]})};Gt(Ze,An).catch(n=>console.error(n));
